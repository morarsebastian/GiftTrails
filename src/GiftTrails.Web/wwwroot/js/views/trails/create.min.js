function initAutocomplete(){var t=document.getElementById("pac-input"),n=new google.maps.places.Autocomplete(t,{types:["(cities)"]});n.addListener("place_changed",function(){var r=n.getPlace(),t;if(r.geometry){var i=r.address_components,u="n/a",f="n/a";for(t=0;t<i.length;++t)i[t].types.indexOf("locality")>-1&&i[t].types.indexOf("political")>-1&&(u=i[t].long_name),i[t].types.indexOf("country")>-1&&i[t].types.indexOf("political")>-1&&(f=i[t].long_name);document.getElementsByName("CityName")[0].value=u;document.getElementsByName("CountryName")[0].value=f;document.getElementsByName("Latitude")[0].value=r.geometry.location.lat();document.getElementsByName("Longitude")[0].value=r.geometry.location.lng();document.getElementsByName("GooglePlaceId")[0].value=r.place_id}})}(function(n){n(function(){var t=n("#TrailCreationForm");t.find("input:first").focus();t.validate();t.find("button[type=submit]").click(function(n){if(n.preventDefault(),t.valid()){var i=t.serializeFormToObject();abp.services.app.trail.create(i).done(function(){location.href="/Trails?giftId="+i.GiftId})}})})})(jQuery);